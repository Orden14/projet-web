{% extends 'base.html.twig' %}

{% block title %}Mes ressources{% endblock %}


{% block body %}
	<h2>Mes ressources</h2>
	<div class="ressources-section" data-controller="ressources--filter drag-and-drop" data-action="dragenter->drag-and-drop#onDragEnter dragover->drag-and-drop#onDragOver dragleave->drag-and-drop#onDragLeave drop->drag-and-drop#onDrop">
		<div class="ressources-header">
			<div class="search-container">
				<input type="text" class="search-bar" placeholder="Recherche par nom" data-ressources--filter-target="source" data-action="input->ressources--filter#filter">
			</div>
			<button class="add-button">
				<i class="bi bi-plus"></i>
				Ajouter</button>
		</div>

		<div class="folders-section mb-5">
			<div class="section-header">
				<h3>{{ current_folder.title ?? 'Mes dossiers' }}</h3>
			</div>
			<div class="folders-container">
				{% for folder in folders %}
					{{ include('components/ressource/_folder.html.twig', {'folder': folder}) }}
				{% endfor %}
			</div>
		</div>

		<div class="files-section">
			<div class="section-header">
				<h3>Mes fichiers</h3>
			</div>
			{{ include('components/ressource/_filter.html.twig') }}
		</div>

		<div class="files-table">
			{{ include('components/ressource/_table.html.twig')}}
		</div>
	</div>
{% endblock %}
